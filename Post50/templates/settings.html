{% extends "base.html" %}

{% block content %}
<div class="form-card">
    <h2>Account Settings</h2>
    
    <form method="post" enctype="multipart/form-data">
        <label for="avatar">Profile Picture</label>
        <input type="file" name="avatar" id="avatar" class="form-input" accept="image/*">
        
        {% if current_user.avatar_path %}
        <div style="margin: 16px 0;">
            <img src="{{ current_user.avatar_path }}" alt="Current avatar" class="avatar-large">
        </div>
        {% else %}
        <div style="margin: 16px 0;">
            <div class="avatar-large avatar-placeholder" style="width: 120px; height: 120px; font-size: 3rem;">
                {{ current_user.username[0].upper() }}
            </div>
        </div>
        {% endif %}
        
        <div class="settings-toggle">
            <div class="toggle-info">
                <h3>Auto-save Drafts</h3>
                <p>Automatically save your post drafts as you type</p>
            </div>
            <button type="button" class="theme-toggle" id="autosaveToggle" role="switch" aria-checked="true">
                <div class="theme-toggle-track">
                    <div class="theme-toggle-thumb"></div>
                </div>
            </button>
        </div>
        
        <div class="settings-toggle">
            <div class="toggle-info">
                <h3>Public Profile</h3>
                <p>Allow other users to view your profile and posts</p>
            </div>
            <button type="button" class="theme-toggle" id="publicToggle" role="switch" aria-checked="true">
                <div class="theme-toggle-track">
                    <div class="theme-toggle-thumb"></div>
                </div>
            </button>
        </div>
        
        <div class="settings-toggle">
            <div class="toggle-info">
                <h3>Theme Preference</h3>
                <p>Choose your preferred color theme</p>
            </div>
            <select name="theme" class="form-input" style="max-width: 200px;">
                <option value="light" {% if current_user.theme_preference == 'light' %}selected{% endif %}>Light Mode</option>
                <option value="dark" {% if current_user.theme_preference == 'dark' %}selected{% endif %}>Dark Mode</option>
                <option value="system" {% if current_user.theme_preference == 'system' %}selected{% endif %}>System Default</option>
            </select>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </div>
    </form>
</div>
{% endblock %}
